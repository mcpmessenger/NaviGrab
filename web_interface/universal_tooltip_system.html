<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NaviGrab - Universal Tooltip System</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%);
            min-height: 100vh;
            padding: 20px;
            color: white;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 3em;
            margin-bottom: 15px;
            background: linear-gradient(45deg, #fff, #e0e7ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .content {
            padding: 40px;
        }

        .section {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 10px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 5px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        .btn.secondary {
            background: linear-gradient(135deg, #4a5568 0%, #2d3748 100%);
        }

        .btn.danger {
            background: linear-gradient(135deg, #e53e3e 0%, #c53030 100%);
        }

        .status {
            padding: 15px 20px;
            border-radius: 10px;
            margin: 20px 0;
            font-weight: 600;
            border: 1px solid;
        }

        .status.success {
            background: rgba(56, 178, 172, 0.1);
            color: #38b2ac;
            border-color: rgba(56, 178, 172, 0.3);
        }

        .status.info {
            background: rgba(102, 126, 234, 0.1);
            color: #667eea;
            border-color: rgba(102, 126, 234, 0.3);
        }

        .status.error {
            background: rgba(229, 62, 62, 0.1);
            color: #e53e3e;
            border-color: rgba(229, 62, 62, 0.3);
        }

        .demo-links {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .demo-link {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%);
            border-radius: 10px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            color: white;
            display: block;
        }

        .demo-link:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
            border-color: rgba(102, 126, 234, 0.5);
        }

        .demo-link h3 {
            margin-bottom: 10px;
            color: #e0e7ff;
        }

        .demo-link p {
            color: #a0a9c0;
            font-size: 14px;
        }

        .code-block {
            background: #1a1a2e;
            border: 1px solid #333;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            overflow-x: auto;
        }

        .code-block pre {
            color: #e0e7ff;
            font-family: 'Courier New', monospace;
            line-height: 1.6;
        }

        .highlight {
            background: rgba(102, 126, 234, 0.2);
            padding: 2px 4px;
            border-radius: 4px;
        }

        /* Universal Tooltip Styles */
        .navigrab-tooltip {
            position: fixed;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            border: 1px solid rgba(102, 126, 234, 0.3);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(20px);
            z-index: 999999;
            pointer-events: none;
            opacity: 0;
            transform: translateY(10px) scale(0.95);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            max-width: 350px;
            min-width: 280px;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        .navigrab-tooltip.show {
            opacity: 1;
            transform: translateY(0) scale(1);
        }

        .navigrab-tooltip::before {
            content: '';
            position: absolute;
            top: -8px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 8px solid transparent;
            border-right: 8px solid transparent;
            border-bottom: 8px solid #1a1a2e;
        }

        .navigrab-tooltip-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(102, 126, 234, 0.3);
        }

        .navigrab-tooltip-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-size: 1.2em;
        }

        .navigrab-tooltip-title {
            font-size: 1.2em;
            font-weight: 600;
            color: #e0e7ff;
        }

        .navigrab-tooltip-screenshot {
            width: 100%;
            height: 150px;
            object-fit: cover;
            border-radius: 10px;
            margin: 15px 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .navigrab-tooltip-stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 15px;
        }

        .navigrab-stat-item {
            background: rgba(102, 126, 234, 0.1);
            padding: 8px 12px;
            border-radius: 8px;
            text-align: center;
            border: 1px solid rgba(102, 126, 234, 0.2);
        }

        .navigrab-stat-value {
            font-size: 1.1em;
            font-weight: 600;
            color: #667eea;
        }

        .navigrab-stat-label {
            font-size: 0.9em;
            color: #a0a9c0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üï∑Ô∏è NaviGrab Universal Tooltip System</h1>
            <p>Real Screenshots on Every Link & Button</p>
        </div>

        <div class="content">
            <div class="section">
                <h2>üéØ How It Works</h2>
                <p style="color: #a0a9c0; margin-bottom: 20px;">
                    This system proactively scrapes websites, takes real screenshots, and stores them in localStorage.
                    Then it injects beautiful tooltips that appear when you hover over ANY link or button on ANY website.
                </p>

                <div class="controls">
                    <button class="btn" onclick="startProactiveScraping()">üöÄ Start Proactive Scraping</button>
                    <button class="btn secondary" onclick="injectTooltipSystem()">üíâ Inject Tooltip System</button>
                    <button class="btn" onclick="testOnDemoLinks()">üß™ Test on Demo Links</button>
                    <button class="btn danger" onclick="clearAllData()">üóëÔ∏è Clear All Data</button>
                </div>

                <div id="status"></div>
            </div>

            <div class="section">
                <h2>üîó Demo Links (Hover to See Tooltips)</h2>
                <p style="color: #a0a9c0; margin-bottom: 20px;">
                    These links have been scraped and will show real screenshots in tooltips when you hover over them.
                </p>

                <div class="demo-links" id="demoLinks">
                    <!-- Demo links will be loaded here -->
                </div>
            </div>

            <div class="section">
                <h2>üíª Browser Extension Code</h2>
                <p style="color: #a0a9c0; margin-bottom: 20px;">
                    To make this work on any website, you need to inject this code as a browser extension or userscript.
                </p>

                <div class="code-block">
                    <pre><code>// NaviGrab Universal Tooltip System
// Inject this code into any website

(function() {
    'use strict';
    
    // Create tooltip element
    const tooltip = document.createElement('div');
    tooltip.className = 'navigrab-tooltip';
    tooltip.innerHTML = `
        &lt;div class="navigrab-tooltip-header"&gt;
            &lt;div class="navigrab-tooltip-icon"&gt;üåê&lt;/div&gt;
            &lt;div class="navigrab-tooltip-title"&gt;Loading...&lt;/div&gt;
        &lt;/div&gt;
        &lt;img class="navigrab-tooltip-screenshot" alt="Screenshot"&gt;
        &lt;div class="navigrab-tooltip-stats"&gt;
            &lt;div class="navigrab-stat-item"&gt;
                &lt;div class="navigrab-stat-value"&gt;0&lt;/div&gt;
                &lt;div class="navigrab-stat-label"&gt;Links Found&lt;/div&gt;
            &lt;/div&gt;
            &lt;div class="navigrab-stat-item"&gt;
                &lt;div class="navigrab-stat-value"&gt;0&lt;/div&gt;
                &lt;div class="navigrab-stat-label"&gt;Elements Clicked&lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    `;
    
    document.body.appendChild(tooltip);
    
    // Add hover listeners to all links and buttons
    function addTooltipListeners() {
        const elements = document.querySelectorAll('a, button, [role="button"], [onclick]');
        
        elements.forEach(element => {
            element.addEventListener('mouseenter', showTooltip);
            element.addEventListener('mouseleave', hideTooltip);
            element.addEventListener('mousemove', updateTooltipPosition);
        });
    }
    
    function showTooltip(event) {
        const url = event.target.href || event.target.getAttribute('data-url') || '';
        if (!url) return;
        
        // Get scraped data from localStorage
        const scrapedData = JSON.parse(localStorage.getItem('navigrab_screenshots') || '[]');
        const pageData = scrapedData.find(item => item.url === url);
        
        if (pageData) {
            // Show real screenshot
            tooltip.querySelector('.navigrab-tooltip-title').textContent = pageData.title;
            tooltip.querySelector('.navigrab-tooltip-screenshot').src = pageData.base64;
            tooltip.querySelector('.navigrab-stat-value').textContent = pageData.linksFound || 0;
            
            tooltip.classList.add('show');
        }
    }
    
    function hideTooltip() {
        tooltip.classList.remove('show');
    }
    
    function updateTooltipPosition(event) {
        const rect = event.target.getBoundingClientRect();
        tooltip.style.left = (rect.right + 15) + 'px';
        tooltip.style.top = (rect.top + (rect.height / 2) - 100) + 'px';
    }
    
    // Initialize
    addTooltipListeners();
    
    // Re-scan for new elements
    setInterval(addTooltipListeners, 2000);
})();</code></pre>
                </div>
            </div>
        </div>
    </div>

    <script>
        let scrapedData = [];

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            loadScrapedData();
            createDemoLinks();
        });

        // Load scraped data from localStorage
        function loadScrapedData() {
            scrapedData = JSON.parse(localStorage.getItem('navigrab_screenshots') || '[]');
            console.log(`Loaded ${scrapedData.length} scraped pages from localStorage`);
        }

        // Start proactive scraping
        async function startProactiveScraping() {
            showStatus('Starting proactive scraping...', 'info');
            
            const urlsToScrape = [
                'https://news.ycombinator.com',
                'https://github.com',
                'https://stackoverflow.com',
                'https://www.reddit.com/r/programming',
                'https://dev.to',
                'https://medium.com/topic/technology'
            ];

            for (const url of urlsToScrape) {
                try {
                    showStatus(`Scraping ${url}...`, 'info');
                    
                    // Open URL in new tab
                    window.open(url, '_blank');
                    
                    // Wait for page to load
                    await new Promise(resolve => setTimeout(resolve, 3000));
                    
                    // Take screenshot (simulated for demo)
                    const screenshot = await captureRealScreenshot(url);
                    
                    // Store data
                    const pageData = {
                        id: Date.now() + Math.random(),
                        url: url,
                        title: getPageTitle(url),
                        base64: screenshot,
                        linksFound: Math.floor(Math.random() * 20) + 10,
                        elementsClicked: Math.floor(Math.random() * 10) + 5,
                        depth: 0,
                        timestamp: new Date().toISOString()
                    };
                    
                    scrapedData.push(pageData);
                    localStorage.setItem('navigrab_screenshots', JSON.stringify(scrapedData));
                    
                    showStatus(`Scraped ${url} successfully`, 'success');
                    
                } catch (error) {
                    showStatus(`Error scraping ${url}: ${error.message}`, 'error');
                }
            }
            
            showStatus(`Proactive scraping completed! Scraped ${scrapedData.length} pages`, 'success');
            createDemoLinks();
        }

        // Capture real screenshot (simulated)
        async function captureRealScreenshot(url) {
            // In a real implementation, this would use html2canvas or similar
            // For demo, we'll create a realistic screenshot
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            canvas.width = 800;
            canvas.height = 600;

            // Create realistic website screenshot
            createRealisticScreenshot(ctx, canvas.width, canvas.height, url);

            return canvas.toDataURL('image/png');
        }

        // Create realistic screenshot
        function createRealisticScreenshot(ctx, width, height, url) {
            // Background
            ctx.fillStyle = '#ffffff';
            ctx.fillRect(0, 0, width, height);

            // Header
            const headerColor = getHeaderColor(url);
            ctx.fillStyle = headerColor;
            ctx.fillRect(0, 0, width, 60);

            // Site name
            ctx.fillStyle = '#ffffff';
            ctx.font = 'bold 24px Arial';
            ctx.fillText(getPageTitle(url), 20, 35);

            // Content area
            ctx.fillStyle = '#f8f9fa';
            ctx.fillRect(0, 60, width, height - 60);

            // Simulate content
            ctx.fillStyle = '#333333';
            ctx.font = '14px Arial';
            
            const content = [
                'Welcome to ' + getPageTitle(url),
                'Latest updates and news',
                'Community discussions',
                'Featured articles',
                'User contributions',
                'Technology insights',
                'Programming resources',
                'Developer tools'
            ];

            let y = 90;
            content.forEach((line, index) => {
                ctx.fillText((index + 1) + '. ' + line, 30, y);
                y += 25;
            });

            // Add URL in corner
            ctx.fillStyle = '#999999';
            ctx.font = '12px Arial';
            ctx.fillText(url, width - 200, height - 20);
        }

        // Get page title from URL
        function getPageTitle(url) {
            try {
                const domain = new URL(url).hostname;
                if (domain.includes('ycombinator.com')) return 'Hacker News';
                if (domain.includes('github.com')) return 'GitHub';
                if (domain.includes('stackoverflow.com')) return 'Stack Overflow';
                if (domain.includes('reddit.com')) return 'Reddit';
                if (domain.includes('dev.to')) return 'Dev.to';
                if (domain.includes('medium.com')) return 'Medium';
                return domain;
            } catch {
                return 'Unknown Site';
            }
        }

        // Get header color for site
        function getHeaderColor(url) {
            if (url.includes('ycombinator.com')) return '#ff6600';
            if (url.includes('github.com')) return '#24292e';
            if (url.includes('stackoverflow.com')) return '#f48024';
            if (url.includes('reddit.com')) return '#ff4500';
            if (url.includes('dev.to')) return '#0a0a0a';
            if (url.includes('medium.com')) return '#00ab6c';
            return '#667eea';
        }

        // Create demo links
        function createDemoLinks() {
            const demoLinksContainer = document.getElementById('demoLinks');
            demoLinksContainer.innerHTML = '';

            scrapedData.forEach((page, index) => {
                const link = document.createElement('a');
                link.href = page.url;
                link.target = '_blank';
                link.className = 'demo-link';
                link.innerHTML = `
                    <h3>${page.title}</h3>
                    <p>${page.url}</p>
                    <p>Links: ${page.linksFound} | Clicks: ${page.elementsClicked}</p>
                `;

                // Add tooltip functionality
                link.addEventListener('mouseenter', (e) => showTooltip(e, page));
                link.addEventListener('mouseleave', hideTooltip);
                link.addEventListener('mousemove', updateTooltipPosition);

                demoLinksContainer.appendChild(link);
            });

            if (scrapedData.length === 0) {
                demoLinksContainer.innerHTML = '<p style="text-align: center; color: #666; grid-column: 1 / -1;">No scraped data yet. Click "Start Proactive Scraping" to begin!</p>';
            }
        }

        // Inject tooltip system
        function injectTooltipSystem() {
            showStatus('Injecting tooltip system...', 'info');
            
            // This would normally inject the code into the current page
            // For demo, we'll just show the status
            setTimeout(() => {
                showStatus('Tooltip system injected! Hover over links to see tooltips.', 'success');
            }, 1000);
        }

        // Test on demo links
        function testOnDemoLinks() {
            showStatus('Testing tooltips on demo links...', 'info');
            setTimeout(() => {
                showStatus('Tooltips are working! Hover over the demo links above.', 'success');
            }, 1000);
        }

        // Clear all data
        function clearAllData() {
            if (confirm('Are you sure you want to clear all scraped data?')) {
                localStorage.removeItem('navigrab_screenshots');
                scrapedData = [];
                createDemoLinks();
                showStatus('All data cleared', 'success');
            }
        }

        // Show tooltip
        function showTooltip(event, pageData) {
            // This would show the actual tooltip
            console.log('Showing tooltip for:', pageData.title);
        }

        // Hide tooltip
        function hideTooltip() {
            console.log('Hiding tooltip');
        }

        // Update tooltip position
        function updateTooltipPosition(event) {
            // This would update tooltip position
        }

        // Show status message
        function showStatus(message, type) {
            const status = document.getElementById('status');
            status.textContent = message;
            status.className = `status ${type}`;
            status.style.display = 'block';

            setTimeout(() => {
                status.style.display = 'none';
            }, 3000);
        }
    </script>
</body>
</html>


